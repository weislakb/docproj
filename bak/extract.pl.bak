#!/usr/bin/perl

my @params = ();
print ".. raw:: html\n";
print "
\t<div id=\"tabs\">
\t  <ul>
\t    <li><a href=\"#tabs-1\">Nunc tincidunt</a></li>
\t    <li><a href=\"#tabs-2\">Proin dolor</a></li>
\t    <li><a href=\"#tabs-3\">Aenean lacinia</a></li>
\t  </ul>
\t <div id=\"tabs-1\">\n\n";
while (<STDIN>) {
   if (/TWSAPIDOCEXSTART/../TWSAPIDOCEXEND/) {
	if (/TWSAPIDOCEXSTART/) {
        	my @params = split /::/, $_;
 		print ".. code-block:: $params[2]\n";
        }
	next if /TWSAPIDOCEXSTART/ || /TWSAPIDOCEXEND/;
 	print;
   }
}

print "\n.. raw:: html\n
\t\t </div>
\t <div id=\"tabs-2\">This is tab 2</div>
\t <div id=\"tabs-3\">This is tab 3</div>
\t </div>
\t  <script>
\t  \$(document).ready(function() {
\t    \$( \"#tabs\" ).tabs();
\t  });
\t  </script>\n";
